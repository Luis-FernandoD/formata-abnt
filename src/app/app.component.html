<div class="container-fluid h-100">
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="row align-items-center py-3">
        <div class="col-md-6">
          <h1 class="mb-0">
            <i class="bi bi-file-text me-2"></i>
            {{ title }}
          </h1>
          <p class="mb-0 text-muted small">Formate seus textos conforme as normas ABNT</p>
        </div>
        <div class="col-md-6 text-end d-flex justify-content-end align-items-center gap-2">
          <button 
            class="btn btn-outline-secondary btn-sm theme-toggle" 
            type="button" 
            (click)="toggleDarkMode()"
            [attr.aria-label]="isDarkMode ? 'Ativar modo claro' : 'Ativar modo escuro'"
            [attr.title]="isDarkMode ? 'Ativar modo claro' : 'Ativar modo escuro'"
          >
            <i class="bi" [ngClass]="isDarkMode ? 'bi-sun-fill' : 'bi-moon-fill'"></i>
          </button>
          <button class="btn btn-outline-secondary btn-sm" type="button" (click)="limparTexto()">
            <i class="bi bi-trash me-1"></i>
            Limpar
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container-fluid">
      <div class="row g-3 h-100">
        <!-- Área de Entrada -->
        <div class="col-lg-6">
          <div class="card h-100 shadow-sm">
            <div class="card-header">
              <h5 class="mb-0">
                <i class="bi bi-pencil-square me-2"></i>
                Texto Original
              </h5>
            </div>
            <div class="card-body d-flex flex-column">
              <textarea
                class="form-control flex-grow-1"
                [(ngModel)]="textoOriginal"
                placeholder="Cole ou digite seu texto aqui para formatá-lo conforme as normas ABNT..."
                rows="15"
              ></textarea>
              <div class="mt-3">
                <button 
                  class="btn btn-primary w-100" 
                  type="button" 
                  (click)="formatarTexto()"
                  [disabled]="!textoOriginal.trim()"
                >
                  <i class="bi bi-magic me-2"></i>
                  Formatar Texto
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Área de Saída -->
        <div class="col-lg-6">
          <div class="card h-100 shadow-sm">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h5 class="mb-0">
                <i class="bi bi-file-earmark-check me-2"></i>
                Texto Formatado
              </h5>
              <button 
                class="btn btn-sm btn-outline-primary" 
                type="button" 
                (click)="copiarTextoFormatado()"
                [disabled]="!textoFormatado.trim()"
              >
                <i class="bi bi-clipboard me-1"></i>
                Copiar
              </button>
            </div>
            <div class="card-body">
              <div class="texto-formatado">
                <p *ngIf="!textoFormatado.trim()" class="text-muted text-center py-5">
                  <i class="bi bi-info-circle d-block mb-2" style="font-size: 2rem;"></i>
                  O texto formatado aparecerá aqui após clicar em "Formatar Texto"
                </p>
                <div *ngIf="textoFormatado.trim()" [innerHTML]="(textoFormatado | nl2br)"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer mt-auto">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center py-3">
          <p class="mb-0 small text-muted">
            Formatador ABNT - Conforme normas da Associação Brasileira de Normas Técnicas
          </p>
        </div>
      </div>
    </div>
  </footer>
</div>

<router-outlet />
